@model IEnumerable<Nop.Web.Models.Flitts.Homepage.HomepageViewModel>

@{
  Layout = "~/Views/Shared/_Layout.cshtml";

@*@Html.Action("ShowTopic", "Topic", new { systemName = "Homepage" })*@

  
var domain = Request.ServerVariables["HTTP_HOST"];

}



@if (domain.Contains("shopforbettertomorrows"))
{
  //show blank
}
else
{
  @Html.Action("HeaderLinks", "Common")

  <div id="sidebar-fixed" class="sidebar hidden-xs hidden-sm d-none d-md-block">
    <a href="@Url.RouteUrl("HomePage")"><img src="~/Themes/v1/Content/images/logo.png" title="Commonclub" class="img-responsive sav-logo" /></a>
    <div class="sidebar-menu">@Html.Partial("Menu")</div>
  </div>

  @Html.Action("MenuSideMobile", "Common")


  //
  if (Model != null)
  {
    if (Model.Any())
    {
      foreach (var item in Model)
      {
        @* Slider *@
        if (item.Id == 1)
        {
          if (item.DesktopItems.Any())
          {
            @*static image*@
            <div class="full-width i1 hidden-xs hidden-sm"><img class="img-responsive center-block" src="@item.DesktopItems[0].PictureUrl" alt="" /></div>
              @* if (item.Category == 1)
              {
                <div id="carouselExampleIndicators" class="hidden-xs hidden-sm carousel slide carousel-fade" data-ride="carousel">
                  <div class="carousel-inner" role="listbox">

                      @{
                          var index = 0;
                          var firstactive = "active";
                          foreach (var img in item.DesktopItems)
                          {
                              if (index > 0)
                              {
                                  firstactive = "";
                              }


                              <div class="carousel-item @firstactive" data-interval="2000" style="background-image: url('@img.PictureUrl'); background-position:center center; cursor:pointer;" onclick="location.href='@img.NavigateTo'"></div>


                              index++;
                          }
                      }
                  </div>
                    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span></a>
                    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span></a>
                </div>
              }
              else if (item.Category == 2)
              {
                <div class="full-width i1 hidden-xs hidden-sm"><img class="img-responsive center-block" src="@item.DesktopItems[0].PictureUrl" alt="" /></div>
              } *@
          }

          if (item.MobileItems.Any())
          {
            @*static image*@
            <div class="full-width i1 hidden-md hidden-lg"><img class="img-responsive center-block" src="@item.MobileItems[0].PictureUrl" /></div>
              @* if (item.Category == 1)
              {
                <div class="hidden-md hidden-lg carousel slide  carousel-fade" data-ride="carousel" id="carouselMobile">
                  <div class="carousel-inner d-block d-md-block position-relative">

                      @{
                          var index = 0;
                          var firstactive = "active";
                          foreach (var img in item.MobileItems)
                          {
                              if (index > 0)
                              {
                                  firstactive = "";
                              }
                              <div class="carousel-item @firstactive"><a href="@img.NavigateTo"><img src="@img.PictureUrl" class="img-fluid d-block w-100" data-interval="3000"></a></div>

                              index++;
                          }
                      }
                  </div>

                    <a class="carousel-control-prev" href="#carouselMobile" role="button" data-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span></a>
                    <a class="carousel-control-next" href="#carouselMobile" role="button" data-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span></a>
                </div>
              }
              else
              {
                <div class="full-width i1 hidden-md hidden-lg"><img class="img-responsive center-block" src="@item.MobileItems[0].PictureUrl" /></div>
              } *@
            }
        }

        @* row 2 *@
        if (item.Id == 2)
        {

          if (item.DesktopItems.Any())
          {
            <div class="container-fluid homepagev2 grid hidden-xs hidden-sm d-none d-md-block">
              <div class="row">
                @foreach (var img in item.DesktopItems)
                {
                  <div class="col-sm-6">
                    <a href="@img.NavigateTo"><img class="img-responsive" src="@img.PictureUrl" alt="" /></a>
                    <div class="">
                      <a href="@img.NavigateTo"><h3>@img.Title</h3></a>
                    </div>
                  </div>
                }

              </div>
            </div>
          }

          if (item.MobileItems.Any())
          {
            <div class="container-fluid homepagev2 grid hidden-md hidden-lg d-block d-md-none">
              <div class="row">


                @foreach (var img in item.MobileItems)
                {
                  <div class="col-sm-6">
                    <a href="@img.NavigateTo"><img class="img-responsive" src="@img.PictureUrl" alt="" /></a>
                    <div class="">
                      <a href="@img.NavigateTo"><h3>@img.Title</h3></a>
                    </div>
                  </div>
                }
              </div>
            </div>
          }

        }

              @* row 3 *@
        if (item.Id == 3)
        {
          <div class="container-fluid homepagev2 row3" style="margin-top: 75px;">
            <div class="row full-lr">
              @if (item.DesktopItems.Any())
              {
                <div class="col-xs-12 hidden-xs hidden-sm d-none d-md-block">

                  @foreach (var img in item.DesktopItems)
                  {
                    <div class="" style="max-width:880px; margin-left:auto;margin-right:auto;">
                      <a href="@img.NavigateTo" class="clean"><img class="img-responsive center-block" src="@img.PictureUrl" /></a>
                      <div class="" style="padding-top:10px;">@Html.Raw(img.Title)</div>
                    </div>

                  }
                </div>

              }

              @if (item.MobileItems.Any())
              {
                foreach (var img in item.MobileItems)
                {
                  <div class="col-xs-12 hidden-md hidden-lg d-block d-md-none hidden-xl">
                    <div class="" style="max-width:880px; margin-left:auto;margin-right:auto;">
                      <a href="@img.NavigateTo" class="clean"><img class="img-responsive center-block" src="@img.PictureUrl" /></a>
                      <div class="" style="padding-top:10px;">@Html.Raw(img.Title)</div>
                    </div>
                  </div>
                }
              }

            </div>
          </div>
        }

          }
        }

    <section class="container instagram"><div id="instagram-feed" /></section>
    <section class="container instagram" style="margin-top:20px;"><a href="//www.instagram.com/shopatvelvet" target="_blank"><h3>Visit Our Instagram</h3></a></section>

    @Html.Action("Footer", "Common")
  }

                    
}




@section RootHeaderSection{

@*<link rel="stylesheet" type="text/css" href="~/Themes/v1/content/homepage.css" />*@
                <link href="~/Scripts/app/InstaGet/css/instaget.min.css" rel="stylesheet" />
                <style>
                  .ig-instagram-size-auto .ig-instagram-items .ig-instagram-item {
                    margin: 0;
                  }
                </style>
                <style>

                  #sidebar-fixed {
                    position: absolute;
                  }

                  @@media screen and (min-width: 1079px) {
                    #body-content {
                      /*margin-top: -60px;*/
                    }
                  }

                  .gamma-gallery li {
                    margin-right: 0;
                    margin-bottom: 0;
                  }

                    .gamma-gallery li + li {
                      margin-left: 16px;
                    }


                  .row3 {
                    margin-top: 154px;
                  }

                  .instagram {
                    margin-top: 220px;
                  }

                  @@media screen and (max-width:676px) {
                    .i1 {
                      top: 50px;
                    }

                    .homepagev2 {
                      margin-top: 75px;
                    }

                      .homepagev2 h3 {
                        margin-bottom: 60px;
                      }

                      .homepagev2 .row {
                        margin-left: 0;
                        margin-right: 0;
                      }

                    .row3 {
                      margin-top: 0;
                    }

                    .instagram {
                      margin-top: 55px;
                    }

                      .instagram h3 {
                        margin-left: 20px;
                      }


                    .ig-instagram-size-auto .ig-instagram-items {
                      margin-left: 20px;
                      margin-right: -5px;
                    }

                    .ig-instagram-columns-5 .ig-instagram-item {
                      -webkit-box-flex: 0;
                      flex: 0 0 calc(100%/3 - 10px) !important;
                    }
                  }

                  @@media screen and (min-width:768px) {
                    /*  .list-group-item{color:#ffffff;}
                  .list-group-item.inactive{color:#ffffff;}
                  .list-group-item a{color:#ffffff;}
                    .list-group-item a:active,
                    .list-group-item a:hover{
                      color:#ffffff;
                    }

                  .navbar-nav > li > a{color:#ffffff;}
                  #top-nav > ul li {
                    color: #ffffff;
                  }

                  li.tab-menu > a {
                    color: #ffffff;
                  }

                  .open li.tab-menu > a {
                    color: #231F20;
                  }*/
                  }
                </style>



              }

@section Rootscripts{
<script>

                  //function isMobile() {
                  //    try { document.createEvent("TouchEvent"); return true; }
                  //    catch (e) { return false; }
                  //}
                  //$(function () {
                  //    if (window.matchMedia("(max-width: 768px)").matches && isMobile()) {
                  //        //$("section").css({ "height": $(window).height() });
                  //        //var timer;
                  //        //$(window).resize(function () {
                  //        //    clearTimeout(timer);
                  //        //    timer = setTimeout(function () {
                  //        //        $(".panel").css({ "height": $(window).height() });
                  //        //    }, 40);
                  //        //});

                  //        $.scrollify({
                  //            section: ".naar"
                  //        });

                  //    };
                  //});

                  $(".effect-opacity").hover(function () {
                    $(this).find(".overlay").css({ opacity: 1 });
                  },
                    function () {
                      $(this).find(".overlay").css({ opacity: 0 });
                    }
                  );

                  $(".overlay").click(function () {
                    var url = $(this).prev().attr("href");
                    if (url != "")
                      window.location = url;
                    return false;
                  });


                  $(function () {
                    if (window.matchMedia("(max-width: 768px)").matches) {
                      if (navigator.userAgent.indexOf('Safari') != -1 || navigator.userAgent.indexOf('Chrome') == -1) {

                        $('.overlay').each(function () {
                          this.style.position = 'absolute';
                          this.style.top = '40%';
                        });

                      };

                    }
                    else {
                      if (navigator.userAgent.indexOf('Safari') != -1 || navigator.userAgent.indexOf('Chrome') == -1) {
                        $(window).on('load', function () {
                          $('.overlay').each(function () {
                            this.style.position = 'absolute';
                            this.style.top = $(this).parent().parent().height() / 2 + 'px';
                            this.style.marginTop = -$(this).height() / 2 + 'px';
                          });
                        });

                      }
                      else {

                        $('.overlay').each(function () {
                          this.style.position = 'absolute';
                          this.style.top = $(this).parent().height() / 2 + 'px';
                          this.style.marginTop = -$(this).height() / 2 + 'px';
                          this.style.left = ($(this).parent().width() - $(this).width()) / 2 + 'px';
                        });


                      }
                    }

                  })

                </script>

                <script src="~/Scripts/app/InstaGet/js/instaget.min.js"></script>
                <script>
                  new instaGet('#instagram-feed', {
                    username: 'shopatvelvet',
                    counter: 4,
                    numcol: 4,
                    moreBtn: false,
                    info: false,
                    width: '100%',
                    height: '100%',
                    resolution: 'm',
                  });
                                                                                    //new instaGet('#instagram-feed-mobile', {
                                                                                    //    username: 'shopatvelvet',
                                                                                    //    counter: 4,
                                                                                    //    numcol: 4,
                                                                                    //    moreBtn: false,
                                                                                    //    info: false,
                                                                                    //    width: '100%',
                                                                                    //    height: '100%',
                                                                                    //    resolution: 'm',
                                                                                    //});

                </script>

              }
