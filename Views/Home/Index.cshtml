@model IEnumerable<Nop.Web.Models.Flitts.Homepage.HomepageViewModel>
@{
  Layout = "~/Views/Shared/_Layout.cshtml";
}

@Html.Action("HeaderLinks", "Common")

@if (Model != null)
{
  if (Model.Any())
  {
    foreach (var item in Model)
    {
      @* Slider *@
      if (item.Id == 1)
      {
        <div class="container-fluid homepage">
          @if (item.DesktopItems.Any())
          {
            <div class="row d-none d-md-block carousel slide" data-ride="carousel" id="carouselDesktop">
              <div class="carousel-inner col-12 d-block d-md-block">
                @{
                  var index = 0;
                  var firstactive = "active";
                  foreach (var img in item.DesktopItems)
                  {
                    if (index > 0)
                    {
                      firstactive = "";
                    }

                    <div class="carousel-item @firstactive position-relative">
                      <a href="@img.NavigateTo" class="">
                        <img class="d-block w-100" src="@img.PictureUrl">
                      </a>
                      
                    </div>

                    index++;

                  }
                }
              </div>
              <a class="carousel-control-prev" href="#carouselDesktop" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselDesktop" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>

          }

          @if (item.MobileItems.Any())
          {
            <div class="row d-block d-md-none carousel slide" data-ride="carousel" id="carouselExampleControls" style="margin-top: 10%;">
              <div class="carousel-inner col-12 d-block d-md-block position-relative">

                @{
                  var index = 0;
                  var firstactive = "active";
                  foreach (var img in item.MobileItems)
                  {
                    if (index > 0)
                    {
                      firstactive = "";
                    }

                    <div class="carousel-item @firstactive">
                      <a href="@img.NavigateTo">
                        <img class="d-block w-100" src="@img.PictureUrl">
                      </a>

                    </div>

                    index++;
                  }
                }
              </div>
              <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          }


        </div>
      }

      if (item.Id == 2)
      {
        if (item.DesktopItems.Any())
        {
          <div class="row d-none d-md-block" data-ride="carousel" id="carouselDesktop">
            <div class="col-6 col-md-6 offset-md-4">
              <div class="col-12 col-md-12 center-img-homepage" style="position: relative; margin: 25% 0;">
                
                <div class="row">
                  <div>
                    <img class="d-block w-75" src="@item.DesktopItems[0].PictureUrl">
                  </div>

                  <div>
                    <a href="~/shop-all">Shop our new collection</a>
                  </div>
                </div>

                @* <div style="position: absolute; bottom: 15%; right: 20%">
                </div> *@
              </div>
            </div>
          </div>
        }
        
        if (item.MobileItems.Any())
        {
          <div class="row d-block d-md-none" data-ride="carousel" id="carouselExampleControls" style="margin-top: 10%;">
            <div class="col-8 col-md-8 offset-2">
              <div class="col-12 col-md-12 center-img-homepage" style="position: relative; margin: 35% 0;">
                
                <div class="row">
                  <div>
                    <img class="d-block w-100" src="@item.DesktopItems[0].PictureUrl">
                  </div>

                  <div>
                    <a href="~/shop-all">Shop our new collection</a>
                  </div>
                </div>

                @* <div style="position: absolute; bottom: 15%; right: 20%">
                </div> *@
              </div>
            </div>
          </div>
        }
      }
    }
  }
}


<input type="hidden" id="flag" value="0" />

@Html.Action("Footer", "Common")


@section RootHeaderSection
{

  <style>
    
    .col-12, .col-6 {
      padding: 0 !important;
    }

     @@media (max-width: 769px) {

       .container__homepage .row{
         margin-left:0;
         margin-right:0;
       }

     }
     

    #mCartItemsQty {
      background-color: #fff;
    }
  </style>

  <link rel="stylesheet" type="text/css" href="~/Scripts/app/slick/slick.css">
  <link rel="stylesheet" type="text/css" href="~/Scripts/app/slick/slick-theme.css">


  <link href="~/Themes/v1/Content/homepage.css" rel="stylesheet" />
  <style>


    .brand-menu {
      position: absolute;
    }
  </style>
}

@section RootScripts{

  <script src="~/Scripts/app/slick/slick.js" type="text/javascript" charset="utf-8"></script>

  <script>
    // $(".brandImage").attr("src", "/Themes/v1/Content/images/logo-white.png");

    $(document).ready(function () {
      $('.carouseldesktop').slick({
        slidesToShow: 3,
        dots: false,
        centerMode: false,
        arrows: false,
        autoplay: true,
        autoplaySpeed: 2000,
      });
    });
    $(document).ready(function () {
      $('.carouselmobile').slick({
        slidesToShow: 3,
        dots: false,
        centerMode: false,
        arrows: false,
      });
    });

    $('.left').click(function () {
      $('.carouselmobile').slick('slickPrev');
    })

    $('.right').click(function () {
      $('.carouselmobile').slick('slickNext');
    })

    var model = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model));
	  console.log(model);  
  </script>


}
